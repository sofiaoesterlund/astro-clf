---
import "../global.css";

import Scrolldownarrow from "../components/Scrolldownarrow.astro";
import Card from "../components/Card.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Carousel from "../components/Carousel.astro";
import Layout from "../layouts/layout.astro";

const data = await fetch(
  "https://yfascmnvoajeushbqoma.supabase.co/rest/v1/clf_superbase",
  {
    method: "GET",
    headers: {
      apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmYXNjbW52b2FqZXVzaGJxb21hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTA0OTA0NDQsImV4cCI6MjAyNjA2NjQ0NH0.puYt9Mkw58IwaaPs-MOmLGK0TZGTMHc2TfwDhn5YlHo",
    },
  }
).then((res) => res.json());
console.log(data);
---

<Layout>
  <Carousel class="cards">
    {
      data.map((cards) => {
        return (
          <Card
            data
            title={cards.name}
            imgurl={cards.img}
            linkurl={cards.linkurl}
            where={cards.where}
          />
        );
      })
    }
  </Carousel>
</Layout>
