---
import Card from "../components/Card.astro";
import Carousel from "../components/Carousel.astro";
import "../global.css";
import Backbutton from "../components/Backbutton.astro";
import Footer from "../components/Footer.astro";

import Layout from "../layouts/layout.astro";

const data = await fetch(
  "https://yfascmnvoajeushbqoma.supabase.co/rest/v1/clf_superbase",
  {
    method: "GET",
    headers: {
      apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlmYXNjbW52b2FqZXVzaGJxb21hIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTA0OTA0NDQsImV4cCI6MjAyNjA2NjQ0NH0.puYt9Mkw58IwaaPs-MOmLGK0TZGTMHc2TfwDhn5YlHo",
    },
  }
).then((res) => res.json());
console.log(data);
---

<Layout>
  <Carousel>
    {
      data.map((show) => {
        return <Card title={show.name} imgurl={show.img} where={show.where} />;
      })
    }
  </Carousel>
</Layout>
